# 03 計算ロジック実装

## 概要
入力された9項目から100点満点評価とパーソナライズドアクションを生成する計算ロジックを実装。

## Todo
- [x] 評価システムロジック実装
  - [x] Sランク判定（各12点・計48点）
    - [x] 収入 > 支出
    - [x] ストック収入 > 0
    - [x] 消費 < ストック収入
    - [x] ストック収入 > サブスク
  - [x] Aランク判定（各6点・計18点）
    - [x] 投資 > 浪費
    - [x] 銀行預金 > クレカ支払い
    - [x] 投資額 > 0
  - [x] Bランク判定（各2点・計34点）
    - [x] 副業収入 > 0
    - [x] 投資 > 消費
    - [x] サブスク存在チェック
    - [x] 本業収入 < 副業収入
    - [x] 比率計算（浪費・ストック÷消費・預金÷支出等）
- [x] パーソナライズドアクション生成
  - [x] Sランク未達成優先（12点）
  - [x] Aランク未達成次優先（6点）
  - [x] Bランク未達成補助（2点）
- [x] 計算結果データ型定義

## 計算仕様
- 100点満点（S:48点 + A:18点 + B:34点）
- 比率計算の点数配分システム
- 未達成項目優先度に基づくアクション生成

## 成果物
- [x] utils/calculations.ts
- [x] DetailedScoreResult型定義（utils/calculations.ts内）
- [x] テストケース作成・動作確認（実装済み）
- [x] エラーハンドリング（0除算等）

## 関連チケット
- 02-入力画面設計（入力データ依存）
- 04-無料版結果表示（計算結果使用）
- 05-有料版結果表示（詳細計算使用）